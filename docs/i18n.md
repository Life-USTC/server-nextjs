# 国际化（i18n）

## 为什么重要

所有面向用户的文案必须本地化，保证 `zh-cn` 与 `en-us` 用户体验一致。翻译文件是唯一事实来源。

## 语言与文件

- 支持语言：`zh-cn`（默认）、`en-us`。
- 翻译文件位于 `messages/`。

## 服务端组件

使用 `next-intl/server` 的 `getTranslations("namespace")`。

```typescript
import { getLocale, getTranslations } from "next-intl/server";

export default async function SomePage({
  searchParams,
}: {
  searchParams: Promise<Record<string, string>>;
}) {
  const locale = await getLocale();
  const t = await getTranslations("namespace");
  const searchP = await searchParams;
}
```

## 客户端组件

使用 `next-intl` 的 `useTranslations("namespace")`。

```typescript
import { useTranslations } from "next-intl";

export function Example() {
  const t = useTranslations("namespace");
  return <span>{t("title")}</span>;
}
```

## 规则

- 所有面向用户的文案禁止硬编码。
- 必须同时更新 `messages/en-us.json` 与 `messages/zh-cn.json`。
- namespace key 要保持稳定一致。
- 通用文案优先使用共享 key（如 `common.loading`、`common.backToHome`）。
- 自动生成组件位于 `src/components/ui/`，禁止编辑；应由调用方通过 props/slot 传入本地化文案。
